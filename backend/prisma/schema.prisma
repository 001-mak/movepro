generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model tbl_company {
  id                                     Int                    @id @default(autoincrement())
  company_name                           String                 @db.VarChar(250)
  company_email                          String                 @db.VarChar(250)
  street                                 String                 @db.MediumText
  city                                   String                 @db.VarChar(50)
  state                                  String                 @db.VarChar(50)
  zip                                    String                 @db.VarChar(10)
  country                                String                 @db.VarChar(50)
  company_logo                           String                 @db.VarChar(250)
  website                                String                 @db.VarChar(250)
  social_fb                              String                 @db.MediumText
  social_tw                              String                 @db.MediumText
  social_in                              String                 @db.MediumText
  social_insta                           String                 @db.MediumText
  social_tube                            String                 @db.MediumText
  user_id                                Int
  subscription_plan_id                   Int?                   @default(1)
  tbl_subscription_plan                  tbl_subscription_plan? @relation(fields: [subscription_plan_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_subscription_plan")
  tbl_user_tbl_company_user_idTotbl_user tbl_user               @relation("tbl_company_user_idTotbl_user", fields: [user_id], references: [id], onUpdate: NoAction, map: "fk_company_user")
  tbl_user                               tbl_user[]

  @@index([user_id], map: "fk_user_company")
  @@index([subscription_plan_id], map: "fk_subscription_plan")
}

model tbl_user {
  id                                        Int           @id @default(autoincrement())
  email_id                                  String        @unique(map: "email_id") @db.VarChar(255)
  first_name                                String        @db.VarChar(255)
  last_name                                 String        @db.VarChar(255)
  password                                  String        @db.VarChar(255)
  salt                                      String        @db.VarChar(255)
  phone_no                                  String        @db.VarChar(20)
  picture                                   String?       @db.VarChar(500)
  bio                                       String?       @db.MediumText
  cover_photo                               String?       @db.VarChar(500)
  street                                    String?       @db.VarChar(255)
  city                                      String?       @db.VarChar(255)
  state                                     String?       @db.VarChar(255)
  zip                                       String?       @db.VarChar(255)
  country                                   String?       @db.VarChar(255)
  ssn                                       String        @db.VarChar(20)
  hire_date                                 String?       @db.VarChar(20)
  current_pay                               String?       @db.VarChar(10)
  company_id                                Int?
  role_id                                   Int           @default(2)
  reset_key                                 String?       @db.VarChar(255)
  reset_key_expiry                          DateTime?     @db.DateTime(0)
  tbl_company_tbl_company_user_idTotbl_user tbl_company[] @relation("tbl_company_user_idTotbl_user")
  tbl_company                               tbl_company?  @relation(fields: [company_id], references: [id], onUpdate: NoAction, map: "fk_user_company")
  tbl_role                                  tbl_role      @relation(fields: [role_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_user_role")

  @@index([company_id], map: "fk_company_user")
  @@index([role_id], map: "fk_user_role")
}

model tbl_subscription_plan {
  id                      Int           @id @default(autoincrement())
  subscription_plan_name  String        @db.VarChar(100)
  subscription_plan_price String        @db.VarChar(50)
  tbl_company             tbl_company[]
}

model tbl_role {
  id       Int        @id @default(autoincrement())
  role     String     @db.VarChar(50)
  tbl_user tbl_user[]
}
